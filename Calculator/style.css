:root{
        --bg1: #0f1724;
        --bg2: #071329;
        --glass: rgba(255,255,255,0.06);
        --accent: linear-gradient(135deg,#7ef3ff 0%,#9b8cff 50%,#ff87c2 100%);
        --button: rgba(255,255,255,0.04);
        --button-ops: rgba(255,255,255,0.06);
        --text: #e6eef8;
        --muted: #a6b3c7;
        --green: #4ef5b3;
        --shadow: 0 8px 30px rgba(2,6,23,0.6);
        font-family: Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
    }

    html,body{
        height:100%;
        margin:0;
        background: radial-gradient(1200px 600px at 10% 10%, rgba(125,95,255,0.12), transparent 8%),
                                radial-gradient(1000px 500px at 90% 90%, rgba(0,230,255,0.06), transparent 8%),
                                linear-gradient(180deg,var(--bg1),var(--bg2));
        display:flex;
        align-items:center;
        justify-content:center;
        color:var(--text);
    }

    .calc-wrap{
        width:380px;
        max-width:94vw;
        padding:28px;
        border-radius:20px;
        background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
        box-shadow: var(--shadow), inset 0 1px 0 rgba(255,255,255,0.02);
        backdrop-filter: blur(8px) saturate(120%);
        position:relative;
        transition: transform .28s cubic-bezier(.2,.9,.3,1);
        transform-origin:center;
    }

    .calc-wrap:before{
        content:"";
        position:absolute;
        inset:0;
        border-radius:20px;
        pointer-events:none;
        background: linear-gradient(90deg, rgba(255,255,255,0.02), rgba(255,255,255,0.0));
        mix-blend-mode:overlay;
    }

    .header{
        display:flex;
        align-items:center;
        justify-content:space-between;
        gap:12px;
        margin-bottom:14px;
    }

    .brand{
        display:flex;
        gap:12px;
        align-items:center;
    }

    .logo{
        width:44px;
        height:44px;
        border-radius:10px;
        background:var(--accent);
        display:flex;
        align-items:center;
        justify-content:center;
        color:#061226;
        font-weight:700;
        box-shadow: 0 6px 18px rgba(130,80,255,0.12);
        transform: rotate(-10deg);
    }
    .brand h1{
        font-size:14px;
        margin:0;
        letter-spacing:0.2px;
    }
    .brand p{
        margin:0;
        font-size:11px;
        color:var(--muted);
    }

    .power{
        font-size:12px;
        padding:6px 10px;
        border-radius:999px;
        background: linear-gradient(180deg, rgba(255,255,255,0.02), transparent);
        color:var(--muted);
        cursor:pointer;
        user-select:none;
        border:1px solid rgba(255,255,255,0.02);
    }

    /* dual displays */
    .display{
        border-radius:14px;
        padding:14px;
        background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
        margin-bottom:20px;
        overflow:hidden;
        position:relative;
        min-height:110px;
    }

    .display .prev{
        color:var(--muted);
        font-size:13px;
        text-align:right;
        opacity:0.9;
        transform-origin:right;
        transition: transform .36s cubic-bezier(.2,.9,.3,1), opacity .26s;
        white-space:nowrap;
        overflow:hidden;
        text-overflow:ellipsis;
    }

    .display .curr{
        font-weight:700;
        font-size:36px;
        text-align:right;
        margin-top:6px;
        color:var(--text);
        min-height:44px;
        display:flex;
        justify-content:flex-end;
        align-items:flex-end;
        gap:12px;
    }

    .curr .value{
        display:inline-block;
        transform-origin:right center;
        animation: popIn .28s ease;
    }
    @keyframes popIn{
        from{ transform: translateY(12px) scale(.98); opacity:0;}
        to{ transform: translateY(0) scale(1); opacity:1;}
    }

    /* button grid */
    .keys{
        display:grid;
        grid-template-columns: repeat(4,1fr);
        gap:12px;
    }

    button.key{
        height:60px;
        border-radius:12px;
        border:0;
        background:var(--button);
        color:var(--text);
        font-size:18px;
        cursor:pointer;
        box-shadow: 0 6px 18px rgba(2,6,23,0.45);
        transition: transform .12s ease, box-shadow .12s ease, background .12s;
        user-select:none;
        outline:none;
        position:relative;
        overflow:hidden;
    }

    button.key:active{ transform: translateY(4px) scale(.995); }
    button.key .ripple{
        position:absolute;
        inset:0;
        pointer-events:none;
        opacity:0;
        transition: opacity .28s;
    }

    button.key.op{
        background: var(--button-ops);
        color: #fff;
        font-weight:600;
    }

    button.key.eq{
        background: linear-gradient(90deg,#6ef0c7,#7aa9ff);
        color:#061226;
        box-shadow: 0 10px 30px rgba(110,240,199,0.12), 0 6px 20px rgba(122,169,255,0.06);
        font-size:18px;
    }

    .key.small{
        font-size:15px;
    }

    .footer-note{
        text-align:center;
        margin-top:18px;
        font-size:12px;
        color:var(--muted);
        opacity:0.9;
    }

    /* subtle glowing border anim */
    .glow{
        position:absolute;
        inset:-2px;
        border-radius:24px;
        pointer-events:none;
        background: conic-gradient(from 120deg at 50% 50%, rgba(120,90,255,0.12), rgba(0,230,255,0.08), rgba(255,140,200,0.06));
        filter: blur(24px);
        opacity:0.18;
        transform:scale(0.98);
    }

    /* responsive */
    @media (max-width:420px){
        .calc-wrap{ padding:18px; }
        .logo{ width:40px; height:40px; }
        .display{ min-height:96px; padding:12px; }
        .curr{ font-size:28px;}
        button.key{ height:56px; }
    }